{"version":3,"file":"js/650.901683b2.js","mappings":"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","sources":["webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/index.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/lib/SerializerStream.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/index.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/blankNode.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/defaultGraph.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/literal.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/namedNode.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/quad.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/term.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/serializer-ntriples/node_modules/@rdfjs/to-ntriples/lib/variable.js","webpack://@zazuko/rdf-sketch/./node_modules/@rdfjs/sink/index.js","webpack://@zazuko/rdf-sketch/./node_modules/readable-to-readable/index.js"],"sourcesContent":["const SerializerStream = require('./lib/SerializerStream')\nconst Sink = require('@rdfjs/sink')\n\nclass Serializer extends Sink {\n  constructor () {\n    super(SerializerStream)\n  }\n}\n\nmodule.exports = Serializer\n","const quadToNTriples = require('@rdfjs/to-ntriples').quadToNTriples\nconst ReadableToReadable = require('readable-to-readable')\n\nclass SerializerStream extends ReadableToReadable {\n  constructor (input) {\n    super(input, {\n      map: quad => quadToNTriples(quad) + '\\n'\n    })\n  }\n}\n\nmodule.exports = SerializerStream\n","const quad = require('./lib/quad')\nconst term = require('./lib/term')\n\nmodule.exports = {\n  quadToNTriples: quad,\n  termToNTriples: term\n}\n","function blankNode (blankNode) {\n  return '_:' + blankNode.value // TODO: escape special chars\n}\n\nmodule.exports = blankNode\n","function defaultGraph (defaultGraph) {\n  return ''\n}\n\nmodule.exports = defaultGraph\n","const namedNode = require('./namedNode')\n\nconst echarRegEx = new RegExp('[\"\\\\\\\\\\n\\r]') // eslint-disable-line no-control-regex\nconst echarRegExAll = new RegExp('[\"\\\\\\\\\\n\\r]', 'g') // eslint-disable-line no-control-regex\n\nconst echarReplacement = {\n  '\"': '\\\\\"',\n  '\\\\': '\\\\\\\\',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r'\n}\n\nfunction echarReplacer (char) {\n  return echarReplacement[char]\n}\n\nfunction escapeValue (value) {\n  if (echarRegEx.test(value)) {\n    return value.replace(echarRegExAll, echarReplacer)\n  }\n\n  return value\n}\n\nfunction literal (literal) {\n  const escapedValue = escapeValue(literal.value)\n\n  if (literal.datatype.value === 'http://www.w3.org/2001/XMLSchema#string') {\n    return '\"' + escapedValue + '\"'\n  }\n\n  if (literal.datatype.value === 'http://www.w3.org/1999/02/22-rdf-syntax-ns#langString') {\n    return '\"' + escapedValue + '\"@' + literal.language\n  }\n\n  return '\"' + escapedValue + '\"^^' + namedNode(literal.datatype)\n}\n\nmodule.exports = literal\n","function namedNode (namedNode) {\n  return '<' + namedNode.value + '>' // TODO: escape special chars\n}\n\nmodule.exports = namedNode\n","const term = require('./term')\n\nfunction quad (quad) {\n  const subjectString = term(quad.subject)\n  const predicateString = term(quad.predicate)\n  const objectString = term(quad.object)\n  const graphString = term(quad.graph)\n\n  return `${subjectString} ${predicateString} ${objectString} ${graphString ? graphString + ' ' : ''}.`\n}\n\nmodule.exports = quad\n","const blankNode = require('./blankNode')\nconst defaultGraph = require('./defaultGraph')\nconst literal = require('./literal')\nconst namedNode = require('./namedNode')\nconst variable = require('./variable')\n\nfunction term (term) {\n  switch (term.termType) {\n    case 'BlankNode':\n      return blankNode(term)\n    case 'DefaultGraph':\n      return defaultGraph(term)\n    case 'Literal':\n      return literal(term)\n    case 'NamedNode':\n      return namedNode(term)\n    case 'Variable':\n      return variable(term)\n    default:\n      return undefined\n  }\n}\n\nmodule.exports = term\n","function variable (variable) {\n  return '?' + variable.value // TODO: escape special chars\n}\n\nmodule.exports = variable\n","class Sink {\n  constructor (Impl, options) {\n    this.Impl = Impl\n    this.options = options\n  }\n\n  import (input, options) {\n    const output = new this.Impl(input, Object.assign({}, this.options, options))\n\n    input.on('end', () => {\n      if (!output.readable) {\n        output.emit('end')\n      }\n    })\n\n    input.on('error', (err) => {\n      output.emit('error', err)\n    })\n\n    return output\n  }\n}\n\nmodule.exports = Sink\n","const { finished, Readable } = require('readable-stream')\n\nfunction nextLoop () {\n  return new Promise(resolve => setTimeout(resolve, 0))\n}\n\nclass ReadableToReadable extends Readable {\n  constructor (input, { end = true, map, ...args } = {}) {\n    super({\n      read: ReadableToReadable.readFrom(input, { end, map }),\n      ...args\n    })\n  }\n\n  static readFrom (input, { end = true, map = v => v } = {}) {\n    let done = false\n\n    finished(input, () => {\n      done = true\n    })\n\n    const read = async function () {\n      while (true) {\n        const chunk = input.read()\n\n        if (!chunk) {\n          if (done && end) {\n            this.push(null)\n          }\n\n          if (done) {\n            return true\n          }\n\n          await nextLoop()\n        } else {\n          if (!this.push(map(chunk))) {\n            return false\n          }\n        }\n      }\n    }\n\n    return read\n  }\n}\n\nmodule.exports = ReadableToReadable\n"],"names":["SerializerStream","Sink","Serializer","constructor","super","module","exports","quadToNTriples","ReadableToReadable","input","map","quad","term","termToNTriples","blankNode","value","defaultGraph","namedNode","echarRegEx","RegExp","echarRegExAll","echarReplacement","echarReplacer","char","escapeValue","test","replace","literal","escapedValue","datatype","language","subjectString","subject","predicateString","predicate","objectString","object","graphString","graph","variable","termType","Impl","options","this","import","output","Object","assign","on","readable","emit","err","finished","Readable","nextLoop","Promise","resolve","setTimeout","end","args","read","readFrom","static","v","done","async","chunk","push"],"sourceRoot":""}